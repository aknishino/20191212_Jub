# Machine learning model identifies DNA methylation diversity in iPSCs as a distinguishing property of iPSCs from human ESCs

Source codes for generating machine learning models in this paper.

## Description

### learning.py

Source code written with Python3 which used for generating machine learning models in our paper.

### query.py

Source code written with Python3 which used for getting classification results in our paper.

### save.py

Source code written with Python3 which used for savingj machine learning models in our paper.

### json2txt.py

Source code written with Python3 which used for transforming JSON file to TXT file in our paper. The JSON file has the weight information of generated machine learning models.

### make_sh.py

Source code written with Python3 which used for making following shell script files. When you run this script, several arguments  have to be needed; details are written in below "Usage" section.

#### learning_30_query_save.sh

Job submission shell script used in our study. This script call "learning.py", "query.py", "save.py", "dump.sh".

#### dump.sh

Call jubadump method and get JSON file which has the weight information of generated machine learning models.

### classifier1.00.json

JSON file which described hyper-parameter of machine learning.

### config_learning.txt

Configuration file which described the file path and category of the class for using to generate machine learning models.

### config_query.txt

Configuration file which described the file path and actual category of the class for using to classify the cell types by querying to generated machine learning models.

### Dump/

Directory storing files generated by dump.sh.

### LearningModel/

Directory storing files generated by save.py.

### result.txt

Classificated results file geneated by query.py.

### log.txt

Learning status log file.

## Requirement

- jubatus (http://jubat.us/ja/quickstart.html)
- multiprocessing (https://docs.python.org/ja/3/library/multiprocessing.html)

## Usage

1. Make config_learning.txt & config_query.txt

   | column number | description                        |
   | ------------- | ---------------------------------- |
   | 1             | Category of the class.             |
   | 2             | File path of DNA methylation data. |

2. Start up jubatus searver.  

   ```
   jubaclassifier -f classifier1.00.json
   ```

3. Run "make_sh.py" with argument described in below.  
   total_num (int) : number of total learning iteration.
   queryANDsave_num (int): period of each learning iteration for classification and saving model.  

   ```bash
   # python make_sh.py total_num queryANDsave_num
   python make_sh.py 100 10
   ```